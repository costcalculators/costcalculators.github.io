<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Mortgage with Closing Costs Calculator - Calculate total mortgage costs including closing costs, property taxes, and insurance.">
    <meta name="keywords" content="mortgage calculator, closing costs, mortgage closing, home loan costs">
    <title>Mortgage with Closing Costs Calculator - Cost Calculators</title>
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/calculator.css">
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Mortgage with Closing Costs Calculator",
        "description": "Calculate total mortgage costs including closing costs, property taxes, and insurance",
        "url": "https://costcalculators.github.io/calculators/mortgage-closing.html",
        "applicationCategory": "FinanceApplication",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        }
    }
    </script>
</head>
<body>
    <div id="header-container"></div>
    <div id="sidebar-container"></div>

    <main class="calculator-page">
        <section class="calculator-section">
            <div class="calculator-container">
                <h1 class="calculator-title">Mortgage with Closing Costs Calculator</h1>
                <p class="calculator-description">Calculate your total mortgage costs including closing costs, property taxes, insurance, and HOA fees. Get a complete picture of your true monthly mortgage expense.</p>

                <div class="calculator-content">
                    <div class="calculator-form">
                        <div class="input-group">
                            <label for="homePrice">Home Price ($)</label>
                            <input type="number" id="homePrice" name="homePrice" placeholder="500000" value="500000" data-calculate>
                        </div>

                        <div class="input-group">
                            <label for="downPayment">Down Payment (%)</label>
                            <input type="number" id="downPayment" name="downPayment" placeholder="20" value="20" min="0" max="100" step="0.1" data-calculate>
                        </div>

                        <div class="input-group">
                            <label for="interestRate">Interest Rate (%)</label>
                            <input type="number" id="interestRate" name="interestRate" placeholder="6.5" value="6.5" step="0.1" data-calculate>
                        </div>

                        <div class="input-group">
                            <label for="loanTerm">Loan Term (Years)</label>
                            <select id="loanTerm" name="loanTerm" data-calculate>
                                <option value="15">15 Years</option>
                                <option value="20">20 Years</option>
                                <option value="30" selected>30 Years</option>
                            </select>
                        </div>

                        <div class="input-group">
                            <label for="closingCosts">Closing Costs (%)</label>
                            <input type="number" id="closingCosts" name="closingCosts" placeholder="3" value="3" step="0.1" data-calculate>
                        </div>

                        <div class="input-group">
                            <label for="propertyTax">Annual Property Tax (%)</label>
                            <input type="number" id="propertyTax" name="propertyTax" placeholder="1.2" value="1.2" step="0.1" data-calculate>
                        </div>

                        <div class="input-group">
                            <label for="homeInsurance">Annual Home Insurance ($)</label>
                            <input type="number" id="homeInsurance" name="homeInsurance" placeholder="1500" value="1500" data-calculate>
                        </div>

                        <div class="input-group">
                            <label for="hoaFees">Monthly HOA Fees ($)</label>
                            <input type="number" id="hoaFees" name="hoaFees" placeholder="0" value="0" data-calculate>
                        </div>
                    </div>

                    <div class="calculator-results">
                        <div class="result-card">
                            <h3>Monthly Mortgage</h3>
                            <div class="result-value" id="monthlyPayment">$0.00</div>
                        </div>
                        <div class="result-card">
                            <h3>Property Tax + Insurance</h3>
                            <div class="result-value" id="taxInsurance">$0.00</div>
                        </div>
                        <div class="result-card">
                            <h3>Total Monthly Cost</h3>
                            <div class="result-value" id="totalMonthly">$0.00</div>
                        </div>
                        <div class="result-card">
                            <h3>Closing Costs Amount</h3>
                            <div class="result-value" id="closingCostsAmount">$0.00</div>
                        </div>
                    </div>
                </div>

                <section class="info-section">
                    <h2>Understanding Mortgage Closing Costs</h2>
                    <p>Closing costs are fees and expenses incurred when finalizing a mortgage loan. These typically range from 2% to 5% of the home's purchase price and include origination fees, appraisal fees, title insurance, and more.</p>
                    
                    <h3>Common Closing Cost Components:</h3>
                    <ul>
                        <li><strong>Origination Fee:</strong> 0.5-1% of loan amount charged by lender</li>
                        <li><strong>Appraisal Fee:</strong> $300-700 to assess property value</li>
                        <li><strong>Title Insurance:</strong> $500-1,000 to protect ownership rights</li>
                        <li><strong>Survey Fee:</strong> $150-400 if property survey is needed</li>
                        <li><strong>Recording Fees:</strong> $50-200 for document recording</li>
                        <li><strong>Transfer Tax:</strong> Varies by state, typically 0-2%</li>
                    </ul>

                    <h3>Why Property Tax Matters:</h3>
                    <p>Property taxes are annual fees paid to local governments based on your home's assessed value. These vary significantly by location, ranging from less than 0.5% to over 2% of home value annually.</p>

                    <h3>Home Insurance Considerations:</h3>
                    <p>Homeowners insurance is typically required by lenders and protects against fire, theft, and liability. Budget between $800-$1,500 annually depending on home value, location, and coverage level.</p>
                </section>
            </div>
        </section>
    </main>

    <div id="footer-container"></div>

    <script src="../js/components.js"></script>
    <script src="../js/calculator-template.js"></script>
    <script>
        class MortgageClosingCalculator extends Calculator {
            constructor() {
                super({
                    calculate: (values) => {
                        const homePrice = values.homePrice;
                        const downPaymentPercent = values.downPayment / 100;
                        const downPaymentAmount = homePrice * downPaymentPercent;
                        const principal = homePrice - downPaymentAmount;
                        const monthlyRate = values.interestRate / 100 / 12;
                        const numberOfPayments = values.loanTerm * 12;
                        
                        let monthlyPayment = 0;
                        if (monthlyRate === 0) {
                            monthlyPayment = principal / numberOfPayments;
                        } else {
                            monthlyPayment = principal * (monthlyRate * Math.pow(1 + monthlyRate, numberOfPayments)) / (Math.pow(1 + monthlyRate, numberOfPayments) - 1);
                        }
                        
                        const closingCostsAmount = homePrice * (values.closingCosts / 100);
                        const monthlyPropertyTax = (homePrice * (values.propertyTax / 100)) / 12;
                        const monthlyInsurance = values.homeInsurance / 12;
                        const monthlyTaxInsurance = monthlyPropertyTax + monthlyInsurance;
                        const totalMonthly = monthlyPayment + monthlyTaxInsurance + values.hoaFees;
                        
                        document.getElementById('closingCostsAmount').innerHTML = '$' + closingCostsAmount.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
                        document.getElementById('taxInsurance').innerHTML = '$' + monthlyTaxInsurance.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
                        document.getElementById('totalMonthly').innerHTML = '$' + totalMonthly.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
                        
                        return monthlyPayment;
                    }
                });
            }

            displayResult() {
                const resultElement = document.getElementById('monthlyPayment');
                if (resultElement) {
                    resultElement.innerHTML = '$' + this.result.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
                    resultElement.parentElement.style.animation = 'pulse 0.6s ease-out';
                }
            }
        }

        const calculator = new MortgageClosingCalculator();
        document.addEventListener('DOMContentLoaded', function() {
            calculator.initialize();
            calculator.calculate();
        });
    </script>
</body>
</html>
